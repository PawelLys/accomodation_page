{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pawel\\\\Desktop\\\\programowanie\\\\projGit\\\\accomodationPage\\\\src\\\\components\\\\Extra\\\\EatingSection\\\\DisplayList.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { fetchRecipe, pageNumber } from '../../actions';\n\nclass DisplayList extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.renderList = () => {\n      if (this.props.apiResponseList.length > 0) {\n        if (this.props.apiResponseList === 'err') return React.createElement(\"div\", {\n          style: {\n            fontSize: '4rem',\n            color: '#fff',\n            gridColumn: '1/ span 3',\n            margin: '10vh 15vw'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 10\n          },\n          __self: this\n        }, \"Sorry, seems like there is problem with server.\");\n        const list = this.props.apiResponseList.map(curr => {\n          return React.createElement(\"div\", {\n            className: \"recipe-list__item\",\n            id: curr.recipe_id,\n            key: curr.recipe_id,\n            onClick: event => this.catchEventID(event),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 17\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"recipe-item__photo\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 22\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            src: curr.image_url,\n            alt: \"Food\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 23\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: \"recipe-item__title\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 25\n            },\n            __self: this\n          }, this.limitRecipeTitle(curr.title)));\n        });\n        if (this.props.page === 0) this.props.pageNumber(1);\n        if (this.props.page === 1) return list.slice(0, 15);\n        if (this.props.page === 2) return list.slice(15, 30);\n        return null;\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        }, \"Sorry, we aren\");\n      }\n\n      ;\n    };\n\n    this.limitRecipeTitle = (title, limit = 40) => {\n      const newTitle = [];\n      let acc = 0;\n\n      if (title.length > limit) {\n        [...title.split(' ')].forEach(cur => {\n          if (acc + cur.length <= limit) {\n            acc += cur.length;\n            newTitle.push(cur);\n          }\n        });\n        return \"\".concat(newTitle.join(' '), \" ...\");\n      } else return title;\n    };\n\n    this.catchEventID = event => {\n      let elementID = event.target.id;\n      if (!elementID) elementID = event.target.parentNode.id;\n      if (elementID) this.props.fetchRecipe(event.target.id);\n    };\n\n    this.renderPageBtn = () => {\n      if (this.props.page === 1 && this.props.apiResponseList.length > 15) return React.createElement(\"div\", {\n        className: \"recipe-list__btn-right\",\n        onClick: () => this.props.pageNumber(2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Next page\", React.createElement(\"ion-icon\", {\n        name: \"arrow-round-forward\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }));\n      if (this.props.page === 2) return React.createElement(\"div\", {\n        className: \"recipe-list__btn-left\",\n        onClick: () => this.props.pageNumber(1),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"ion-icon\", {\n        name: \"arrow-round-back\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), \"Previous page\");\n      return null;\n    };\n  }\n\n  render() {\n    if (Object.keys(this.props.recipeDetail).length > 0) return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    });\n    return React.createElement(\"div\", {\n      className: \"recipe-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, this.renderList(), this.renderPageBtn());\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    apiResponseList: state.listRequest,\n    recipeDetail: state.recipeRequest,\n    page: state.pageNumber\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchRecipe,\n  pageNumber\n})(DisplayList);","map":{"version":3,"sources":["C:\\Users\\Pawel\\Desktop\\programowanie\\projGit\\accomodationPage\\src\\components\\Extra\\EatingSection\\DisplayList.js"],"names":["React","connect","fetchRecipe","pageNumber","DisplayList","Component","renderList","props","apiResponseList","length","fontSize","color","gridColumn","margin","list","map","curr","recipe_id","event","catchEventID","image_url","limitRecipeTitle","title","page","slice","limit","newTitle","acc","split","forEach","cur","push","join","elementID","target","id","parentNode","renderPageBtn","render","Object","keys","recipeDetail","mapStateToProps","state","listRequest","recipeRequest"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { fetchRecipe, pageNumber } from '../../actions';\r\n\r\nclass DisplayList extends React.Component {\r\n    renderList = () => {\r\n        if(this.props.apiResponseList.length > 0) {\r\n\r\n            if(this.props.apiResponseList === 'err') return (\r\n                <div style={{ fontSize: '4rem', color: '#fff', gridColumn: '1/ span 3', margin: '10vh 15vw' }}>\r\n                    Sorry, seems like there is problem with server.\r\n                </div>\r\n                );\r\n\r\n            const list = this.props.apiResponseList.map(curr => {\r\n                return (\r\n                    <div className=\"recipe-list__item\" \r\n                    id={curr.recipe_id} \r\n                    key={curr.recipe_id} \r\n                    onClick={event => this.catchEventID(event)}\r\n                    >\r\n                        <div className=\"recipe-item__photo\">\r\n                            <img src={curr.image_url} alt=\"Food\"/>\r\n                        </div>\r\n                        <div className=\"recipe-item__title\">{this.limitRecipeTitle(curr.title)}</div>\r\n                    </div> \r\n                );\r\n            });\r\n\r\n            if(this.props.page === 0) this.props.pageNumber(1);\r\n\r\n            if(this.props.page === 1) return list.slice(0, 15);\r\n            if(this.props.page === 2) return list.slice(15, 30);\r\n\r\n            return null;\r\n        } else {\r\n            return (\r\n                <div>Sorry, we aren</div>\r\n            )\r\n        };\r\n    };\r\n\r\n    limitRecipeTitle = (title, limit = 40) => {\r\n        const newTitle = [];\r\n        let acc = 0;\r\n        if(title.length > limit) {\r\n            [...title.split(' ')].forEach(cur => {\r\n                if(acc + cur.length <= limit) {\r\n                    acc += cur.length;\r\n                    newTitle.push(cur);\r\n                }\r\n            });\r\n            return `${newTitle.join(' ')} ...`;\r\n        } else return title;\r\n    }\r\n\r\n    catchEventID = event => {\r\n        let elementID = event.target.id;\r\n        if(!elementID) elementID = event.target.parentNode.id;\r\n        if(elementID) this.props.fetchRecipe(event.target.id)\r\n    };\r\n\r\n    renderPageBtn = () => {\r\n        if(this.props.page === 1 && this.props.apiResponseList.length > 15) return (\r\n            <div className=\"recipe-list__btn-right\" onClick={() => this.props.pageNumber(2)}>\r\n                Next page<ion-icon name=\"arrow-round-forward\"></ion-icon>\r\n            </div>\r\n        );\r\n        if(this.props.page === 2) return (\r\n            <div className=\"recipe-list__btn-left\" onClick={() => this.props.pageNumber(1)}>\r\n                <ion-icon name=\"arrow-round-back\"></ion-icon>Previous page\r\n            </div>\r\n        );\r\n\r\n        return null;\r\n    }\r\n\r\n    render() {\r\n        if(Object.keys(this.props.recipeDetail).length > 0) return <div></div>;\r\n        return <div className=\"recipe-list\">{this.renderList()}{this.renderPageBtn()}</div>; \r\n    };\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return { apiResponseList: state.listRequest, recipeDetail: state.recipeRequest, page: state.pageNumber};\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n    fetchRecipe, pageNumber\r\n})(DisplayList);"]},"metadata":{},"sourceType":"module"}